\hypertarget{classGeometricKinematic}{\section{Geometric\-Kinematic Klassenreferenz}
\label{classGeometricKinematic}\index{Geometric\-Kinematic@{Geometric\-Kinematic}}
}


Eine Klasse zur Berechnung der Kinematik des Werkzeuges und der Endeffektorlage des L\-B\-R iiwa.  




{\ttfamily \#include $<$Geometric\-Kinematic.\-h$>$}



Klassendiagramm für Geometric\-Kinematic\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=226pt]{classGeometricKinematic__inherit__graph}
\end{center}
\end{figure}


Zusammengehörigkeiten von Geometric\-Kinematic\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=333pt]{classGeometricKinematic__coll__graph}
\end{center}
\end{figure}
\subsection*{Öffentliche Methoden}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classGeometricKinematic_ae9cf7464a179ef36352f1eba1d21999b}{{\bfseries Geometric\-Kinematic} (ros\-::\-Node\-Handle \&)}\label{classGeometricKinematic_ae9cf7464a179ef36352f1eba1d21999b}

\item 
Eigen\-::\-Affine3d \hyperlink{classGeometricKinematic_a2780149e9cc27767a216952be3c4efa1}{get\-T\-\_\-0\-\_\-\-F\-L} ()
\item 
Eigen\-::\-Affine3d \hyperlink{classGeometricKinematic_af17c2b463d3fa83ec26fb4b4d5abb64c}{get\-T\-\_\-0\-\_\-\-Q4} ()
\item 
void \hyperlink{classGeometricKinematic_a985dc4eb67fb7989226d5b8d0ed2f9bf}{set\-Angles} (const Eigen\-::\-Vector\-Xd value)
\end{DoxyCompactItemize}
\subsection*{Private Methoden}
\begin{DoxyCompactItemize}
\item 
Eigen\-::\-Affine3d \hyperlink{classGeometricKinematic_a30ba11c16e6394d094604a8914f97581}{calc\-Dir\-Kin} (Eigen\-::\-Vector\-Xd joint\-Angles)
\begin{DoxyCompactList}\small\item\em Methode zur Berechnung der direkten Kinematik des Werkzeuges. \end{DoxyCompactList}\item 
bool \hyperlink{classGeometricKinematic_a40340db367bf2e3b10830c6ac54be302}{calc\-Inv\-Kin} (Eigen\-::\-Affine3d des\-E\-E\-Position)
\begin{DoxyCompactList}\small\item\em Methode zur Berechnung der inversen Kinematik des Werkzeuges auf Basis geometrischer Bedingungen. \end{DoxyCompactList}\item 
bool \hyperlink{classGeometricKinematic_afd63d5511b3d37eeb2306cb81750e42b}{rcm\-Callback} (masterslave\-::\-Geometric\-Kinematic\-R\-C\-M\-::\-Request \&req, masterslave\-::\-Geometric\-Kinematic\-R\-C\-M\-::\-Response \&resp)
\begin{DoxyCompactList}\small\item\em Callback für den R\-C\-M-\/\-Service, indem der Trokarpunkt berechnet wird. \end{DoxyCompactList}\item 
bool \hyperlink{classGeometricKinematic_ab56c619011ffae14a04162ca09dcc70a}{direct\-Kinematics\-Callback} (masterslave\-::\-Geometric\-Kinematic\-Direct\-Kinematics\-::\-Request \&req, masterslave\-::\-Geometric\-Kinematic\-Direct\-Kinematics\-::\-Response \&resp)
\begin{DoxyCompactList}\small\item\em Callback für den direkten Kinematik-\/\-Service, indem der T\-C\-P berechnet wird. \end{DoxyCompactList}\item 
bool \hyperlink{classGeometricKinematic_ac32c435496ff486133d3aa4094edd2d5}{inverse\-Kinematics\-Callback} (masterslave\-::\-Geometric\-Kinematic\-Inverse\-Kinematics\-::\-Request \&req, masterslave\-::\-Geometric\-Kinematic\-Inverse\-Kinematics\-::\-Response \&resp)
\begin{DoxyCompactList}\small\item\em Callback für den inversen Kinematik-\/\-Service, inder die Flanschlage im Weltkoordinatensystem und die Gelenkwinkel des Werkzeuges berechnet werden. \end{DoxyCompactList}\item 
Eigen\-::\-Affine3d \hyperlink{classGeometricKinematic_a9ed11aaa1279afe9f0f88e52e2f03689}{build\-Affine3d} (const Eigen\-::\-Vector3d \&transl\-X\-Y\-Z, const Eigen\-::\-Vector3d \&axis\-Z\-Y\-X, bool zyx)
\begin{DoxyCompactList}\small\item\em Hilfsfunktion zur Erstellung von Affinen Transformationen aus einem Translationsvekt und den R\-P\-Y-\/\-Winkeln. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Attribute}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classGeometricKinematic_a3f7a8c38a4444d5fd6daf1da2067799e}{ros\-::\-Node\-Handle {\bfseries nh\-\_\-}}\label{classGeometricKinematic_a3f7a8c38a4444d5fd6daf1da2067799e}

\item 
\hypertarget{classGeometricKinematic_ab3d001b98257b76b051a4c9da08795c0}{const \hyperlink{structtoolDescriptionParameters}{tool\-Description\-Parameters} \hyperlink{classGeometricKinematic_ab3d001b98257b76b051a4c9da08795c0}{T\-O\-O\-L\-\_\-\-P\-A\-R\-A\-M\-E\-T\-E\-R\-S} \{0.\-438, 0.\-0, 0.\-062, 0.\-0, 90.\-0, 0.\-0, 0.\-0088, 0.\-017, 0.\-305\}}\label{classGeometricKinematic_ab3d001b98257b76b051a4c9da08795c0}

\begin{DoxyCompactList}\small\item\em Konstante, die die geometrischen Parameters des laparoskopischen Werkzeuges festlegen (X\-\_\-\-F\-L\-\_\-\-Q4, Y\-\_\-\-F\-L\-\_\-\-Q4, Z\-\_\-\-F\-L\-\_\-\-Q4, A\-\_\-\-F\-L\-\_\-\-Q4, B\-\_\-\-F\-L\-\_\-\-Q4, C\-\_\-\-F\-L\-\_\-\-Q4, X\-\_\-\-Q5\-\_\-\-Q6, X\-\_\-\-Q6\-\_\-\-E\-E, X\-\_\-\-F\-L\-\_\-\-R\-C\-M) \end{DoxyCompactList}\item 
\hypertarget{classGeometricKinematic_a8808661184ee6fe06704b505f27b4dbf}{Eigen\-::\-Affine3d \hyperlink{classGeometricKinematic_a8808661184ee6fe06704b505f27b4dbf}{T\-\_\-0\-\_\-\-F\-L}}\label{classGeometricKinematic_a8808661184ee6fe06704b505f27b4dbf}

\begin{DoxyCompactList}\small\item\em Flanschlage des Roboters im Weltkoordinatensystem. \end{DoxyCompactList}\item 
\hypertarget{classGeometricKinematic_afcf0f9c5c410aaf3fe3aec2d812a42d4}{ros\-::\-Service\-Server \hyperlink{classGeometricKinematic_afcf0f9c5c410aaf3fe3aec2d812a42d4}{rcm\-Server}}\label{classGeometricKinematic_afcf0f9c5c410aaf3fe3aec2d812a42d4}

\begin{DoxyCompactList}\small\item\em Service\-Server für die Bestimmung des Trokarpunktes. \end{DoxyCompactList}\item 
\hypertarget{classGeometricKinematic_a13fabf9990bdab9655b692942c9d4029}{ros\-::\-Service\-Server \hyperlink{classGeometricKinematic_a13fabf9990bdab9655b692942c9d4029}{direct\-Kinematics\-Server}}\label{classGeometricKinematic_a13fabf9990bdab9655b692942c9d4029}

\begin{DoxyCompactList}\small\item\em Service\-Server für die Berechnung des T\-C\-P. \end{DoxyCompactList}\item 
\hypertarget{classGeometricKinematic_aecb5ad028f6a1d165ece2ad904dc9b48}{ros\-::\-Service\-Server \hyperlink{classGeometricKinematic_aecb5ad028f6a1d165ece2ad904dc9b48}{inverse\-Kinematics\-Server}}\label{classGeometricKinematic_aecb5ad028f6a1d165ece2ad904dc9b48}

\begin{DoxyCompactList}\small\item\em Service\-Server für die Berechnung der Gelenkwinkel und der Roboterflanschlage im Weltkoordinatensystem. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Weitere Geerbte Elemente}


\subsection{Ausführliche Beschreibung}
Eine Klasse zur Berechnung der Kinematik des Werkzeuges und der Endeffektorlage des L\-B\-R iiwa. 

\begin{DoxyAuthor}{Autor}
Fabian Baier 
\end{DoxyAuthor}
\begin{DoxyDate}{Datum}
20.\-03.\-2016 
\end{DoxyDate}
\begin{DoxySeeAlso}{Siehe auch}
\hyperlink{classIKinematic}{I\-Kinematic} 
\end{DoxySeeAlso}


\subsection{Dokumentation der Elementfunktionen}
\hypertarget{classGeometricKinematic_a9ed11aaa1279afe9f0f88e52e2f03689}{\index{Geometric\-Kinematic@{Geometric\-Kinematic}!build\-Affine3d@{build\-Affine3d}}
\index{build\-Affine3d@{build\-Affine3d}!GeometricKinematic@{Geometric\-Kinematic}}
\subsubsection[{build\-Affine3d}]{\setlength{\rightskip}{0pt plus 5cm}Geometric\-Kinematic\-::build\-Affine3d (
\begin{DoxyParamCaption}
\item[{const Eigen\-::\-Vector3d \&}]{transl\-X\-Y\-Z, }
\item[{const Eigen\-::\-Vector3d \&}]{axis\-Z\-Y\-X, }
\item[{bool}]{zyx}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}}\label{classGeometricKinematic_a9ed11aaa1279afe9f0f88e52e2f03689}


Hilfsfunktion zur Erstellung von Affinen Transformationen aus einem Translationsvekt und den R\-P\-Y-\/\-Winkeln. 


\begin{DoxyParams}{Parameter}
{\em transl\-X\-Y\-Z} & Translationsvektor \\
\hline
{\em axis\-Z\-Y\-X} & Rotationsvektor \\
\hline
{\em zyx} & Flag zur Festlegung der Rotationsrichtung \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Rückgabe}
Affine Transformation 
\end{DoxyReturn}
\hypertarget{classGeometricKinematic_a30ba11c16e6394d094604a8914f97581}{\index{Geometric\-Kinematic@{Geometric\-Kinematic}!calc\-Dir\-Kin@{calc\-Dir\-Kin}}
\index{calc\-Dir\-Kin@{calc\-Dir\-Kin}!GeometricKinematic@{Geometric\-Kinematic}}
\subsubsection[{calc\-Dir\-Kin}]{\setlength{\rightskip}{0pt plus 5cm}Geometric\-Kinematic\-::calc\-Dir\-Kin (
\begin{DoxyParamCaption}
\item[{Eigen\-::\-Vector\-Xd}]{joint\-Angles}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}}\label{classGeometricKinematic_a30ba11c16e6394d094604a8914f97581}


Methode zur Berechnung der direkten Kinematik des Werkzeuges. 


\begin{DoxyParams}{Parameter}
{\em joint\-Angles} & Gelenkwinkel des Werkzeuges \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Rückgabe}
Affine Transformation zwischen Flansch und Endeffektor 
\end{DoxyReturn}
\hypertarget{classGeometricKinematic_a40340db367bf2e3b10830c6ac54be302}{\index{Geometric\-Kinematic@{Geometric\-Kinematic}!calc\-Inv\-Kin@{calc\-Inv\-Kin}}
\index{calc\-Inv\-Kin@{calc\-Inv\-Kin}!GeometricKinematic@{Geometric\-Kinematic}}
\subsubsection[{calc\-Inv\-Kin}]{\setlength{\rightskip}{0pt plus 5cm}Geometric\-Kinematic\-::calc\-Inv\-Kin (
\begin{DoxyParamCaption}
\item[{Eigen\-::\-Affine3d}]{des\-E\-E\-Position}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [virtual]}}}\label{classGeometricKinematic_a40340db367bf2e3b10830c6ac54be302}


Methode zur Berechnung der inversen Kinematik des Werkzeuges auf Basis geometrischer Bedingungen. 


\begin{DoxyParams}{Parameter}
{\em des\-E\-E\-Position} & gewünschte Endeffektorlage im Weltkoordinatensystem \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Rückgabe}
Flag, ob der Arbeitsraum eingehalten wurde 
\end{DoxyReturn}


Implementiert \hyperlink{classIKinematic_a6f95d80c4330253643c49a758404e4a7}{I\-Kinematic}.

\hypertarget{classGeometricKinematic_ab56c619011ffae14a04162ca09dcc70a}{\index{Geometric\-Kinematic@{Geometric\-Kinematic}!direct\-Kinematics\-Callback@{direct\-Kinematics\-Callback}}
\index{direct\-Kinematics\-Callback@{direct\-Kinematics\-Callback}!GeometricKinematic@{Geometric\-Kinematic}}
\subsubsection[{direct\-Kinematics\-Callback}]{\setlength{\rightskip}{0pt plus 5cm}Geometric\-Kinematic\-::direct\-Kinematics\-Callback (
\begin{DoxyParamCaption}
\item[{masterslave\-::\-Geometric\-Kinematic\-Direct\-Kinematics\-::\-Request \&}]{req, }
\item[{masterslave\-::\-Geometric\-Kinematic\-Direct\-Kinematics\-::\-Response \&}]{resp}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}}\label{classGeometricKinematic_ab56c619011ffae14a04162ca09dcc70a}


Callback für den direkten Kinematik-\/\-Service, indem der T\-C\-P berechnet wird. 


\begin{DoxyParams}{Parameter}
{\em req} & L\-B\-R-\/\-Flanschlage und Gelenkwinkel des Werkzeuges \\
\hline
{\em resp} & Aktueller T\-C\-P im Weltkoordinatensystem \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Rückgabe}
Flag, ob der Serviceaufruf erfolgreich war 
\end{DoxyReturn}
\begin{DoxySeeAlso}{Siehe auch}
Geometric\-Kinematic\-Direct\-Kinematic.\-srv 
\end{DoxySeeAlso}
\hypertarget{classGeometricKinematic_a2780149e9cc27767a216952be3c4efa1}{\index{Geometric\-Kinematic@{Geometric\-Kinematic}!get\-T\-\_\-0\-\_\-\-F\-L@{get\-T\-\_\-0\-\_\-\-F\-L}}
\index{get\-T\-\_\-0\-\_\-\-F\-L@{get\-T\-\_\-0\-\_\-\-F\-L}!GeometricKinematic@{Geometric\-Kinematic}}
\subsubsection[{get\-T\-\_\-0\-\_\-\-F\-L}]{\setlength{\rightskip}{0pt plus 5cm}Geometric\-Kinematic\-::get\-T\-\_\-0\-\_\-\-F\-L (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}}\label{classGeometricKinematic_a2780149e9cc27767a216952be3c4efa1}
\begin{DoxyRefDesc}{Noch zu erledigen}
\item[\hyperlink{todo__todo000008}{Noch zu erledigen}]check ob noch benötigt \begin{DoxyReturn}{Rückgabe}

\end{DoxyReturn}
\end{DoxyRefDesc}
\hypertarget{classGeometricKinematic_af17c2b463d3fa83ec26fb4b4d5abb64c}{\index{Geometric\-Kinematic@{Geometric\-Kinematic}!get\-T\-\_\-0\-\_\-\-Q4@{get\-T\-\_\-0\-\_\-\-Q4}}
\index{get\-T\-\_\-0\-\_\-\-Q4@{get\-T\-\_\-0\-\_\-\-Q4}!GeometricKinematic@{Geometric\-Kinematic}}
\subsubsection[{get\-T\-\_\-0\-\_\-\-Q4}]{\setlength{\rightskip}{0pt plus 5cm}Geometric\-Kinematic\-::get\-T\-\_\-0\-\_\-\-Q4 (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}}\label{classGeometricKinematic_af17c2b463d3fa83ec26fb4b4d5abb64c}
\begin{DoxyRefDesc}{Noch zu erledigen}
\item[\hyperlink{todo__todo000009}{Noch zu erledigen}]check ob noch benötigt \begin{DoxyReturn}{Rückgabe}

\end{DoxyReturn}
\end{DoxyRefDesc}
\hypertarget{classGeometricKinematic_ac32c435496ff486133d3aa4094edd2d5}{\index{Geometric\-Kinematic@{Geometric\-Kinematic}!inverse\-Kinematics\-Callback@{inverse\-Kinematics\-Callback}}
\index{inverse\-Kinematics\-Callback@{inverse\-Kinematics\-Callback}!GeometricKinematic@{Geometric\-Kinematic}}
\subsubsection[{inverse\-Kinematics\-Callback}]{\setlength{\rightskip}{0pt plus 5cm}Geometric\-Kinematic\-::inverse\-Kinematics\-Callback (
\begin{DoxyParamCaption}
\item[{masterslave\-::\-Geometric\-Kinematic\-Inverse\-Kinematics\-::\-Request \&}]{req, }
\item[{masterslave\-::\-Geometric\-Kinematic\-Inverse\-Kinematics\-::\-Response \&}]{resp}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}}\label{classGeometricKinematic_ac32c435496ff486133d3aa4094edd2d5}


Callback für den inversen Kinematik-\/\-Service, inder die Flanschlage im Weltkoordinatensystem und die Gelenkwinkel des Werkzeuges berechnet werden. 


\begin{DoxyParams}{Parameter}
{\em req} & Gewünschter T\-C\-P im Weltkoordinatensystem \\
\hline
{\em resp} & L\-B\-R-\/\-Flanschlage im Weltkoordinatensystem und Gelenkwinkel des Werkzeuges \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Rückgabe}
Flag, ob der Serviceaufruf erfolgreich war 
\end{DoxyReturn}
\begin{DoxySeeAlso}{Siehe auch}
Geometric\-Kinematic\-Inverse\-Kinematic.\-srv 
\end{DoxySeeAlso}
\hypertarget{classGeometricKinematic_afd63d5511b3d37eeb2306cb81750e42b}{\index{Geometric\-Kinematic@{Geometric\-Kinematic}!rcm\-Callback@{rcm\-Callback}}
\index{rcm\-Callback@{rcm\-Callback}!GeometricKinematic@{Geometric\-Kinematic}}
\subsubsection[{rcm\-Callback}]{\setlength{\rightskip}{0pt plus 5cm}Geometric\-Kinematic\-::rcm\-Callback (
\begin{DoxyParamCaption}
\item[{masterslave\-::\-Geometric\-Kinematic\-R\-C\-M\-::\-Request \&}]{req, }
\item[{masterslave\-::\-Geometric\-Kinematic\-R\-C\-M\-::\-Response \&}]{resp}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}}\label{classGeometricKinematic_afd63d5511b3d37eeb2306cb81750e42b}


Callback für den R\-C\-M-\/\-Service, indem der Trokarpunkt berechnet wird. 


\begin{DoxyParams}{Parameter}
{\em req} & L\-B\-R-\/\-Startposition \\
\hline
{\em resp} & Trokarpunkt im Weltkoordinatensystem \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Rückgabe}
Flag, ob der Serviceaufruf erfolgreich war 
\end{DoxyReturn}
\begin{DoxySeeAlso}{Siehe auch}
Geometric\-Kinematic\-R\-C\-M.\-srv 
\end{DoxySeeAlso}
\hypertarget{classGeometricKinematic_a985dc4eb67fb7989226d5b8d0ed2f9bf}{\index{Geometric\-Kinematic@{Geometric\-Kinematic}!set\-Angles@{set\-Angles}}
\index{set\-Angles@{set\-Angles}!GeometricKinematic@{Geometric\-Kinematic}}
\subsubsection[{set\-Angles}]{\setlength{\rightskip}{0pt plus 5cm}Geometric\-Kinematic\-::set\-Angles (
\begin{DoxyParamCaption}
\item[{const Eigen\-::\-Vector\-Xd}]{value}
\end{DoxyParamCaption}
)}}\label{classGeometricKinematic_a985dc4eb67fb7989226d5b8d0ed2f9bf}

\begin{DoxyParams}{Parameter}
{\em value} & \\
\hline
\end{DoxyParams}
\begin{DoxyRefDesc}{Noch zu erledigen}
\item[\hyperlink{todo__todo000010}{Noch zu erledigen}]check ob noch benötigt, da jetzt über Services kommuniziert wird \end{DoxyRefDesc}


Die Dokumentation für diese Klasse wurde erzeugt aufgrund der Datei\-:\begin{DoxyCompactItemize}
\item 
include/masterslave/kinematic/\hyperlink{GeometricKinematic_8h}{Geometric\-Kinematic.\-h}\end{DoxyCompactItemize}
